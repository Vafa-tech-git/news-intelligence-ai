# ==========================================
# NEWS AI APPLICATION - ENVIRONMENT CONFIGURATION
# ==========================================
# Copy this file to .env and fill in your actual values
# DO NOT commit the actual .env file to version control

# ==========================================
# ENVIRONMENT & SECURITY FLAGS
# ==========================================
# Enable HTTPS for production (use False for local development)
HTTPS_ENABLED=False

# Enable debug mode (use False for production)
DEBUG_MODE=False

# Enable continuous background scanning
CONTINUOUS_SCAN_ENABLED=False

# Prefer local Ollama over cloud services
LOCAL_OLLAMA_PREFERRED=True

# ==========================================
# SECRET KEY
# ==========================================
# Generate a secure random key for production
# Use: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here-change-in-production

# ==========================================
# AI CONFIGURATION (OLLAMA)
# ==========================================
# Local Ollama server URL
OLLAMA_LOCAL_HOST=http://localhost:11434

# Ollama cloud server URL (fallback)
OLLAMA_CLOUD_HOST=https://ollama.com

# AI model to use
OLLAMA_MODEL=gpt-oss:120b-cloud

# Ollama API key (required for cloud services)
OLLAMA_KEY=your-ollama-api-key

# Local model preference
OLLAMA_LOCAL_MODEL=gpt-oss:120b-cloud

# AI service configuration
OLLAMA_MAX_RETRIES=3
OLLAMA_REQUEST_TIMEOUT=120
OLLAMA_HEALTH_CHECK_INTERVAL=60

# ==========================================
# NEWS SOURCES CONFIGURATION
# ==========================================
# Finnhub API token for financial news
FINNHUB_TOKEN=your-finnhub-api-token

# ==========================================
# EMAIL ALERTS (SMTP)
# ==========================================
# Enable email alerts for high-impact news
EMAIL_ALERTS_ENABLED=False

# SMTP server configuration
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=True

# Alert settings
ALERT_RATE_LIMIT_MINUTES=30
DEFAULT_ALERT_RECIPIENT=your-email@gmail.com

# ==========================================
# RATE LIMITING CONFIGURATION
# ==========================================
# Enable rate limiting
RATELIMIT_ENABLED=True

# Redis for rate limiting storage
RATELIMIT_STORAGE_URL=redis://localhost:6379

# Rate limiting settings
RATELIMIT_DEFAULT=200 per day, 50 per hour
RATELIMIT_HEADERS_ENABLED=True
RATELIMIT_SWALLOW_ERRORS=False
RATELIMIT_ON_BREACH=True

# Specific endpoint limits
RATELIMIT_SCAN_NEWS=20 per 5 minutes, 100 per hour
RATELIMIT_TOGGLE_SAVE=200 per hour
RATELIMIT_RESET_DB=10 per hour
RATELIMIT_FILTER_NEWS=50 per hour
RATELIMIT_SET_CATEGORY=100 per hour

# ==========================================
# CSRF PROTECTION CONFIGURATION
# ==========================================
# CSRF token time limit (seconds)
WTF_CSRF_TIME_LIMIT=3600
WTF_CSRF_ENABLED=True

# CSRF cookie settings (set to True for HTTPS)
CSRF_COOKIE_SECURE=False
CSRF_COOKIE_HTTPONLY=True
CSRF_COOKIE_SAMESITE=Lax

# Session cookie settings (set to True for HTTPS)
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_PERMANENT=False

# ==========================================
# SECURITY CONFIGURATION
# ==========================================
# Security logging
SECURITY_LOG_LEVEL=INFO
LOG_SECURITY_EVENTS=True
SECURITY_HEADERS_ENABLED=False

# ==========================================
# PERFORMANCE CONFIGURATION
# ==========================================
# Enable performance optimizations
ENABLE_PARALLEL_PROCESSING=True
ENABLE_ENHANCED_CACHING=True
ENABLE_PERFORMANCE_MONITORING=True

# Worker thread configuration
MAX_WORKER_THREADS=4
MIN_WORKER_THREADS=1
ADAPTIVE_WORKER_SCALING=False

# Processing timeouts
ARTICLE_PROCESSING_TIMEOUT=90
SCAN_ARTICLES_LIMIT=25

# Database performance
BATCH_SIZE=25
CONNECTION_POOL_SIZE=15
QUERY_TIMEOUT=30
ENABLE_BATCH_PROCESSING=True

# Resource limits
MAX_MEMORY_USAGE_MB=1200
MAX_CPU_USAGE_PERCENT=95
ENABLE_RESOURCE_THROTTLING=True
WORKER_SCALE_THRESHOLD=0.9

# Performance monitoring thresholds
PERFORMANCE_ALERT_MEMORY_MB=300
PERFORMANCE_ALERT_CPU_PERCENT=75
PERFORMANCE_SLOW_QUERY_SECONDS=2

# Additional performance settings
RSS_MAX_WORKERS=20
RSS_TIMEOUT_SECONDS=15
RSS_MAX_ENTRIES_PER_FEED=15

# AI optimization
AI_TIMEOUT_SECONDS=60
AI_MAX_RETRIES=3
AI_RATE_LIMIT_DELAY=1.0

# Resource monitoring
RESOURCE_MONITORING_ENABLED=True
RESOURCE_MONITOR_INTERVAL=30
MAX_MEMORY_PERCENT=80.0
MAX_CPU_PERCENT=90.0
MAX_CONCURRENT_OPERATIONS=10

# Cache settings
CACHE_TTL_HOURS_AI=24
CACHE_TTL_HOURS_WEB=6
CACHE_TTL_MINUTES_RSS=30
CACHE_TTL_MINUTES_FINNHUB=15

# Content extraction
CONTENT_EXTRACTION_TIMEOUT=15
CONTENT_MIN_LENGTH=100
PLAYWRIGHT_TIMEOUT=20

# Database optimization
DB_CONNECTION_POOL_SIZE=10
DB_BATCH_SIZE=50
DB_CACHE_SIZE_MB=10

# Emergency cleanup
AUTO_CLEANUP_ENABLED=True
CLEANUP_DAYS_OLD=30
EMERGENCY_CLEANUP_DAYS=7

# ==========================================
# TESTING & DEVELOPMENT
# ==========================================
# For development only - override production settings
# These should be False or commented out in production

# Enable development database reset
# DEV_RESET_DB_ON_START=False

# Disable authentication for testing
# DEV_SKIP_AUTH=False

# Mock external services for testing
# DEV_MOCK_EXTERNAL_SERVICES=False

# ==========================================
# DEPLOYMENT SPECIFIC
# ==========================================
# Production deployment settings
PRODUCTION_HOST=0.0.0.0
PRODUCTION_PORT=5002

# SSL Certificate paths (for HTTPS)
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# Monitoring and analytics
# SENTRY_DSN=your-sentry-dsn-here
# GOOGLE_ANALYTICS_ID=your-ga-id-here

# Backup configuration
# BACKUP_ENABLED=False
# BACKUP_SCHEDULE=daily
# BACKUP_RETENTION_DAYS=30